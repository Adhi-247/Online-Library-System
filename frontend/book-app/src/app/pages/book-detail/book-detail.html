<div class="min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50 flex items-center justify-center py-10">
  <div class="w-full max-w-3xl bg-white rounded-2xl shadow-xl p-8">
    <ng-container *ngIf="isLoading">
      <div class="text-center py-20">
        <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
        <p class="mt-4 text-slate-600">Loading book details...</p>
      </div>
    </ng-container>
    <ng-container *ngIf="!isLoading && book">
      <div class="flex flex-col md:flex-row gap-8">
        <div class="flex-shrink-0">
          <img 
            [src]="book.coverImage" 
            [alt]="book.title" 
            class="w-48 h-64 object-cover rounded-xl border border-blue-200 shadow-md"
            (error)="$event.target.src='https://via.placeholder.com/300x400?text=No+Cover'" 
          />
        </div>
        <div class="flex-1">
          <h1 class="text-3xl font-bold text-slate-800 mb-2">{{ book.title }}</h1>
          <p class="text-lg text-slate-600 mb-1">by <span class="font-semibold">{{ book.author }}</span></p>
          <p class="text-sm text-slate-500 mb-2" *ngIf="book.isbn">ISBN: {{ book.isbn }}</p>
          <p class="text-sm text-slate-500 mb-2" *ngIf="book.publisher">Publisher: {{ book.publisher }}</p>
          <div class="flex flex-wrap gap-2 mb-4" *ngIf="book.category">
            <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold">{{ book.category.name }}</span>
          </div>
          <p class="text-slate-700 mb-4 text-sm leading-relaxed">{{ book.description || 'No description available.' }}</p>
          <div class="flex flex-wrap gap-4 mb-4">
            <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-semibold">Available: {{ book.available || 0 }} / {{ book.totalCopies || 0 }}</span>
            <span class="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-xs font-semibold" *ngIf="book.pages">Pages: {{ book.pages }}</span>
            <span class="bg-cyan-100 text-cyan-700 px-3 py-1 rounded-full text-xs font-semibold" *ngIf="book.publishDate">Published: {{ book.publishDate | date }}</span>
          </div>
          <div class="flex gap-3 mt-6">
            <button 
              class="px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg font-semibold shadow hover:scale-105 transition"
              [disabled]="book.available === 0"
              [class.opacity-50]="book.available === 0"
              [class.cursor-not-allowed]="book.available === 0"
            >
              üìö {{ book.available > 0 ? 'Borrow Now' : 'Not Available' }}
            </button>
            <button class="px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-semibold shadow hover:scale-105 transition">üîñ Add to Wishlist</button>
            <button class="px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-semibold shadow hover:scale-105 transition">üìù Reserve</button>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="!isLoading && errorMessage">
      <div class="text-center py-20">
        <p class="text-red-500 text-lg font-semibold">{{ errorMessage }}</p>
      </div>
    </ng-container>
  </div>
</div>
