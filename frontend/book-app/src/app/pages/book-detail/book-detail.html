<div class="min-h-screen bg-slate-950 flex items-center justify-center py-10 px-4">
  <div class="w-full max-w-3xl bg-slate-950/95 rounded-3xl border border-slate-800 shadow-[0_18px_60px_rgba(15,23,42,0.9)] p-6 md:p-8">
    <ng-container *ngIf="isLoading">
      <div class="text-center py-16">
        <div class="inline-flex items-center justify-center rounded-full h-11 w-11 border-2 border-slate-700 border-r-emerald-400 animate-spin"></div>
        <p class="mt-4 text-slate-400 text-sm">Loading book details...</p>
      </div>
    </ng-container>
    <ng-container *ngIf="!isLoading && book">
      <div class="flex flex-col md:flex-row gap-8">
        <div class="flex-shrink-0">
          <img 
            [src]="book.coverImage" 
            [alt]="book.title" 
            class="w-44 h-60 object-cover rounded-2xl border border-slate-700 shadow-lg shadow-slate-900/80 bg-slate-900"
            (error)="$event.target.src='https://via.placeholder.com/300x400?text=No+Cover'" 
          />
        </div>
        <div class="flex-1">
          <h1 class="text-2xl md:text-3xl font-semibold text-slate-50 mb-1">{{ book.title }}</h1>
          <p class="text-sm md:text-base text-slate-300 mb-1">
            by <span class="font-medium text-slate-100">{{ book.author }}</span>
          </p>
          <p class="text-[11px] text-slate-500 mb-1" *ngIf="book.isbn">ISBN: {{ book.isbn }}</p>
          <p class="text-[11px] text-slate-500 mb-2" *ngIf="book.publisher">Publisher: {{ book.publisher }}</p>
          <div class="flex flex-wrap gap-2 mb-4" *ngIf="book.category">
            <span class="px-3 py-1 bg-emerald-400/10 text-emerald-300 border border-emerald-500/40 rounded-full text-[11px] font-medium">
              {{ book.category.name }}
            </span>
          </div>
          <p class="text-slate-300 mb-4 text-sm leading-relaxed">
            {{ book.description || 'No description available.' }}
          </p>
          <div class="flex flex-wrap gap-4 mb-4">
            <span class="bg-emerald-400/10 text-emerald-300 border border-emerald-500/40 px-3 py-1 rounded-full text-[11px] font-medium">
              Available: {{ book.available || 0 }} / {{ book.totalCopies || 0 }}
            </span>
            <span class="bg-violet-400/10 text-violet-200 border border-violet-500/40 px-3 py-1 rounded-full text-[11px] font-medium" *ngIf="book.pages">
              Pages: {{ book.pages }}
            </span>
            <span class="bg-sky-400/10 text-sky-200 border border-sky-500/40 px-3 py-1 rounded-full text-[11px] font-medium" *ngIf="book.publishDate">
              Published: {{ book.publishDate | date }}
            </span>
          </div>
          <div class="flex gap-3 mt-6">
            <button 
              class="px-5 py-2.5 rounded-full bg-slate-50 text-slate-950 text-xs font-medium shadow hover:bg-emerald-300 hover:text-slate-950 hover:-translate-y-0.5 transition disabled:opacity-60"
              [disabled]="book.available === 0"
              [class.opacity-50]="book.available === 0"
              [class.cursor-not-allowed]="book.available === 0"
            >
              üìö {{ book.available > 0 ? 'Borrow now' : 'Not available' }}
            </button>
            <button
              class="px-5 py-2.5 rounded-full border border-slate-700 bg-slate-900/70 text-xs font-medium text-slate-100 hover:bg-slate-800 hover:border-slate-500 transition">
              üîñ Add to wishlist
            </button>
            <button
              class="px-5 py-2.5 rounded-full border border-slate-700 bg-slate-900/70 text-xs font-medium text-slate-100 hover:bg-slate-800 hover:border-slate-500 transition">
              üìù Reserve
            </button>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="!isLoading && errorMessage">
      <div class="text-center py-16">
        <p class="text-rose-400 text-sm font-medium">{{ errorMessage }}</p>
      </div>
    </ng-container>
  </div>
</div>
